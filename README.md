# Money Transfer 2

#### От создателей TransferApp и Money Transfer (версий которым повезло меньше)

Основные параметры проекта:
* Фронтенд находится [по адресу](https://serp-ya.github.io/card-transfer/)
* Приложение создано на SpringBoot, используется сборщик Maven
* Для тестирования используются Mockito и JUnit
* Логирование ведется средствами Log4j2 из набора Lombok
* Описаны параметры для создания Docker-образа
* Код трудолюбиво задокументирован
### Архитектура
Работа приложения основа на трех пакетах:
* /apilayer - слой в котором размещен контроллер для обработки запросов
* /cardlayer - слой в котором хранятся класс карты и список карт
* /transferlayer - слой в котором хранятся классы для парсинга запросов и логика их обработки 

Контроллер обрабатывает 2 endpoint'а:
* /transfer - на котором происходит передача данных карт и сумм, информация далее передается на обработчик бизнес-логики (валидация и проверка наличия необходимых средств)
* /confirmOperation - на котором происходит получение данных для подтверждения перевода, которые, далее, передаются на обработчик бизнес-логики (проверку кода подтверждения и окончательные переводы средств)
* !!! Содержимое ответов формируется в JSON Object, создавать слой для DTO-шек и прочее мне показалось здесь излишним, все же это затея больше для БД и наводнит код обрывками, поэтому создал для двух видов сущностей два слоя и отдельный для контроллера
* Полностью покрыт используемый [протокол](https://github.com/netology-code/jd-homeworks/blob/master/diploma/MoneyTransferServiceSpecification.yaml)

Хранение списка карт и списка кодов подтверждения к операциям происходит в ConcurrentHashMap :)

Используется порт 5500

### Тестовые данные
 В качестве тестовых данных заведены две карты
 * 1111 1111 1111 1111  valid 11/25 cvc 111  при создании пополняется на 99 999 RUB
 * 2222 2222 2222 2222  valid 12/25 cvc 222, создается без счетов, валютные счета формируются при пополнении соответсвующее валютой
 * Также приложение при старте пытается создать карту с неверными параметрами, чтобы проверить, что такая карта не создастся в списке карт
